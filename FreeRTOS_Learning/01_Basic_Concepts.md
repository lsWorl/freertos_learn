# 模块一：FreeRTOS基础概念与环境搭建

## 1. 什么是实时操作系统（RTOS）？

实时操作系统是一种特殊的操作系统，它的主要特点是：
- 可预测性：系统响应时间是确定的
- 优先级调度：高优先级任务可以打断低优先级任务
- 多任务处理：可以同时处理多个任务
- 快速任务切换：任务之间的切换时间很短

## 2. FreeRTOS简介

FreeRTOS是一个迷你型的实时操作系统内核。其特点包括：
- 开源免费
- 代码简洁，可移植性强
- 支持优先级调度
- 提供丰富的任务间通信机制
- 支持多种内存分配方式

## 3. STM32CubeMX环境配置

### 基础配置步骤：

1. 时钟配置：
   - 使用外部高速时钟（HSE）
   - 配置HCLK为72MHz或168MHz（取决于STM32型号）

2. 调试配置：
   - 启用SYS > Debug > Serial Wire

3. FreeRTOS配置：
   - 在Middleware中启用FreeRTOS
   - 选择CMSIS_V1或CMSIS_V2
   - 配置堆大小（建议初始值：8192 bytes）

4. 基础GPIO配置：
   - 配置一个LED（例如：PA5）作为输出
   - 配置一个按键（例如：PC13）作为输入

### 代码生成注意事项：

1. 生成代码时选择MDK-ARM工具链
2. 确保生成的代码包含FreeRTOS相关文件
3. 检查`freertos.c`文件中的默认任务配置

## 4. 第一个FreeRTOS程序

我们将创建一个简单的LED闪烁程序，用于验证环境配置是否正确。这个程序将：
- 创建一个LED控制任务
- 在任务中实现LED闪烁
- 使用FreeRTOS的延时函数

### 所需硬件资源：
- LED：PA5（根据实际开发板可调整）
- 系统时钟：72MHz或168MHz

## 实践练习

在开始实际编程之前，请确保：
1. 已正确安装STM32CubeMX和MDK-ARM
2. 了解开发板的具体型号和资源
3. 准备好必要的下载器（如ST-LINK）
 